<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
  <h2 class="text-center">Payment</h2>
  <div class="text-center mt-4">
    <p>Total Amount: <strong>$<span id="totalAmount"></span></strong></p>
    <label for="paymentMethod">Choose Payment Method:</label>
    <select id="paymentMethod" class="form-select w-50 mx-auto mt-2">
      <option value="Credit Card">Credit Card</option>
      <option value="Meal Voucher">Meal Voucher</option>
    </select>
    <button id="payNow" class="btn btn-success mt-3">Pay Now</button>
    <button id="cancelPayment" class="btn btn-danger mt-3">Cancel</button>
  </div>
</div>
<script>
    const urlParams = new URLSearchParams(window.location.search);
    const totalAmount = urlParams.get('total');
    document.getElementById('totalAmount').textContent = totalAmount;

    document.getElementById('payNow').addEventListener('click', () => {
        const paymentMethod = document.getElementById('paymentMethod').value;

        window.opener.paymentSuccess(paymentMethod);
        window.close();
    });
    document.getElementById('cancelPayment').addEventListener('click', () => {
        window.opener.paymentFailed();
        window.close();
    });
</script>
</body>
</html>
